<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Elgg: Elgg/engine/lib/web_services.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="elgg_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elgg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e256eaafeeae80b9b34a28b1ef87f183.html">Elgg</a></li><li class="navelem"><a class="el" href="dir_ac9b7bd8ad09c3c5fda80b3cc2a21709.html">engine</a></li><li class="navelem"><a class="el" href="dir_8046085063ca2435fde818b58ec8052b.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">web_services.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_elgg_1_1_core"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_elgg_1_1_core.html">Elgg\Core</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6d685d08532695a80625908f846d9cb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a6d685d08532695a80625908f846d9cb6">expose_function</a> ($method, $<a class="el" href="js_2elgg_8php.html#ad24bbb96e3b953b4a38f529fd76d585a">function</a>, array $parameters=NULL, $<a class="el" href="mod_2groups_2actions_2discussion_2save_8php.html#a22abefcea28aae6eb403b8c503f14d33">description</a>=&quot;&quot;, $call_method=&quot;GET&quot;, $require_api_auth=false, $require_user_auth=false)</td></tr>
<tr class="separator:a6d685d08532695a80625908f846d9cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a607fab92e52d7becfd78f39cbb084ecf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a607fab92e52d7becfd78f39cbb084ecf">unexpose_function</a> ($method)</td></tr>
<tr class="separator:a607fab92e52d7becfd78f39cbb084ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a23be7417c69f3ab75c9918a9bde947"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a0a23be7417c69f3ab75c9918a9bde947">authenticate_method</a> ($method)</td></tr>
<tr class="separator:a0a23be7417c69f3ab75c9918a9bde947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae169892fb5b27a3faf17b9d369c55c8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ae169892fb5b27a3faf17b9d369c55c8e">execute_method</a> ($method)</td></tr>
<tr class="separator:ae169892fb5b27a3faf17b9d369c55c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c5ea099a097781a2d39dbe54283c6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a65c5ea099a097781a2d39dbe54283c6f">get_call_method</a> ()</td></tr>
<tr class="separator:a65c5ea099a097781a2d39dbe54283c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993fa2a8db8bb03d52e61589cf7bfbd5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a993fa2a8db8bb03d52e61589cf7bfbd5">get_parameters_for_method</a> ($method)</td></tr>
<tr class="separator:a993fa2a8db8bb03d52e61589cf7bfbd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e24993cc15c9c0496d19872abe01c91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a9e24993cc15c9c0496d19872abe01c91">get_post_data</a> ()</td></tr>
<tr class="separator:a9e24993cc15c9c0496d19872abe01c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f30b37d6dd4aa000d4b16b82049470a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a6f30b37d6dd4aa000d4b16b82049470a">verify_parameters</a> ($method, $parameters)</td></tr>
<tr class="separator:a6f30b37d6dd4aa000d4b16b82049470a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76b4df7e187db409530e8cffe24ff59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ad76b4df7e187db409530e8cffe24ff59">serialise_parameters</a> ($method, $parameters)</td></tr>
<tr class="separator:ad76b4df7e187db409530e8cffe24ff59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16fab47ebf5c35e8ae8271b064f37e92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a16fab47ebf5c35e8ae8271b064f37e92">api_auth_key</a> ()</td></tr>
<tr class="separator:a16fab47ebf5c35e8ae8271b064f37e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c92a185dbafd79022a392ebbe7c2fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ab6c92a185dbafd79022a392ebbe7c2fe">api_auth_hmac</a> ()</td></tr>
<tr class="separator:ab6c92a185dbafd79022a392ebbe7c2fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1fa4b565ff1be2ca44dad79bc6ae82e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ae1fa4b565ff1be2ca44dad79bc6ae82e">get_and_validate_api_headers</a> ()</td></tr>
<tr class="separator:ae1fa4b565ff1be2ca44dad79bc6ae82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9750eeff71ed1bbd4d27e8ef7dfde1b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a9750eeff71ed1bbd4d27e8ef7dfde1b4">map_api_hash</a> ($algo)</td></tr>
<tr class="separator:a9750eeff71ed1bbd4d27e8ef7dfde1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a5bbf61a7e681992ec14dee43e6040"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a45a5bbf61a7e681992ec14dee43e6040">calculate_hmac</a> ($algo, $time, $nonce, $api_key, $secret_key, $get_variables, $post_hash=&quot;&quot;)</td></tr>
<tr class="separator:a45a5bbf61a7e681992ec14dee43e6040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a1e9ca9568c7fbcaed1a794ffb6fd3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a12a1e9ca9568c7fbcaed1a794ffb6fd3">calculate_posthash</a> ($postdata, $algo)</td></tr>
<tr class="separator:a12a1e9ca9568c7fbcaed1a794ffb6fd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf13aab50affa7c9d1d981680d25699a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#adf13aab50affa7c9d1d981680d25699a">cache_hmac_check_replay</a> ($hmac)</td></tr>
<tr class="separator:adf13aab50affa7c9d1d981680d25699a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac96677eae59baadc39c197e773f6773"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#aac96677eae59baadc39c197e773f6773">create_api_user</a> ($<a class="el" href="config_8php.html#af3ce158b8d6463c065fe03b13303adc0">site_guid</a>)</td></tr>
<tr class="separator:aac96677eae59baadc39c197e773f6773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e3ae38d3507f8f78141fbb069b7744"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a53e3ae38d3507f8f78141fbb069b7744">get_api_user</a> ($<a class="el" href="config_8php.html#af3ce158b8d6463c065fe03b13303adc0">site_guid</a>, $api_key)</td></tr>
<tr class="separator:a53e3ae38d3507f8f78141fbb069b7744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c53169d84af7cd7ee17fe69af39643c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a3c53169d84af7cd7ee17fe69af39643c">remove_api_user</a> ($<a class="el" href="config_8php.html#af3ce158b8d6463c065fe03b13303adc0">site_guid</a>, $api_key)</td></tr>
<tr class="separator:a3c53169d84af7cd7ee17fe69af39643c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb221f1a8e34bfe46b434338fffc10ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#abb221f1a8e34bfe46b434338fffc10ae">pam_auth_usertoken</a> ()</td></tr>
<tr class="separator:abb221f1a8e34bfe46b434338fffc10ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5d3e2fd6042a9d627c6a9a06c8ecd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a7f5d3e2fd6042a9d627c6a9a06c8ecd7">pam_auth_session</a> ()</td></tr>
<tr class="separator:a7f5d3e2fd6042a9d627c6a9a06c8ecd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35898d169d5059b653fed6e4d8abd867"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a35898d169d5059b653fed6e4d8abd867">create_user_token</a> ($username, $expire=60)</td></tr>
<tr class="separator:a35898d169d5059b653fed6e4d8abd867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace54bab6080eab01e29f3bccfc1cb5ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ace54bab6080eab01e29f3bccfc1cb5ac">get_user_tokens</a> ($user_guid, $<a class="el" href="config_8php.html#af3ce158b8d6463c065fe03b13303adc0">site_guid</a>)</td></tr>
<tr class="separator:ace54bab6080eab01e29f3bccfc1cb5ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71aad434d21b69d2b31b9d41fce06112"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a71aad434d21b69d2b31b9d41fce06112">validate_user_token</a> ($token, $<a class="el" href="config_8php.html#af3ce158b8d6463c065fe03b13303adc0">site_guid</a>)</td></tr>
<tr class="separator:a71aad434d21b69d2b31b9d41fce06112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a21ec214f74d7d042d5c2e5ac0e26ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a9a21ec214f74d7d042d5c2e5ac0e26ef">remove_user_token</a> ($token, $<a class="el" href="config_8php.html#af3ce158b8d6463c065fe03b13303adc0">site_guid</a>)</td></tr>
<tr class="separator:a9a21ec214f74d7d042d5c2e5ac0e26ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690be1d59bab41dc555ed313d763266a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a690be1d59bab41dc555ed313d763266a">remove_expired_user_tokens</a> ()</td></tr>
<tr class="separator:a690be1d59bab41dc555ed313d763266a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf14ce7035f7078700a004ea3596072"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#acaf14ce7035f7078700a004ea3596072">serialise_api_headers</a> (array $headers)</td></tr>
<tr class="separator:acaf14ce7035f7078700a004ea3596072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b98a982e4462bfa0c752e124bb98c0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a8b98a982e4462bfa0c752e124bb98c0c">send_api_call</a> (array $keys, $<a class="el" href="views_2json_2export_2entity_8php.html#a688c14624346da5397e2da3c06266264">url</a>, array $call, $method= 'GET', $post_data= '', $content_type= 'application/octet-stream')</td></tr>
<tr class="separator:a8b98a982e4462bfa0c752e124bb98c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fda5ab8d808955b37550e53b9a3f74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ab5fda5ab8d808955b37550e53b9a3f74">send_api_get_call</a> ($<a class="el" href="views_2json_2export_2entity_8php.html#a688c14624346da5397e2da3c06266264">url</a>, array $call, array $keys)</td></tr>
<tr class="separator:ab5fda5ab8d808955b37550e53b9a3f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7382c2cbf1ad49ac6892556d3eaff2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#aee7382c2cbf1ad49ac6892556d3eaff2">send_api_post_call</a> ($<a class="el" href="views_2json_2export_2entity_8php.html#a688c14624346da5397e2da3c06266264">url</a>, array $call, array $keys, $post_data, $content_type= 'application/octet-stream')</td></tr>
<tr class="separator:aee7382c2cbf1ad49ac6892556d3eaff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b3bc74db0f2a34cf4e0f284092b9ad9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a6b3bc74db0f2a34cf4e0f284092b9ad9">get_standard_api_key_array</a> ($secret_key, $api_key)</td></tr>
<tr class="separator:a6b3bc74db0f2a34cf4e0f284092b9ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab208c68935a5585be85d347bcb4936d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ab208c68935a5585be85d347bcb4936d7">list_all_apis</a> ()</td></tr>
<tr class="separator:ab208c68935a5585be85d347bcb4936d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab79e46ee15a024df6b6915e804277886"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ab79e46ee15a024df6b6915e804277886">auth_gettoken</a> ($username, $password)</td></tr>
<tr class="separator:ab79e46ee15a024df6b6915e804277886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85258bc1c85d583d719a79c6b7168a0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a85258bc1c85d583d719a79c6b7168a0c">_php_api_error_handler</a> ($errno, $errmsg, $filename, $linenum, $vars)</td></tr>
<tr class="separator:a85258bc1c85d583d719a79c6b7168a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c62a46a8fbdc6ccc46fbc506afb1db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#aa7c62a46a8fbdc6ccc46fbc506afb1db">_php_api_exception_handler</a> ($exception)</td></tr>
<tr class="separator:aa7c62a46a8fbdc6ccc46fbc506afb1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f900dabf17e09fd8211ff02da7f75c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a3f900dabf17e09fd8211ff02da7f75c2">service_handler</a> ($handler, $request)</td></tr>
<tr class="separator:a3f900dabf17e09fd8211ff02da7f75c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55e9d88bc6a070aa79b3ec2982c32d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ac55e9d88bc6a070aa79b3ec2982c32d6">register_service_handler</a> ($handler, $<a class="el" href="js_2elgg_8php.html#ad24bbb96e3b953b4a38f529fd76d585a">function</a>)</td></tr>
<tr class="separator:ac55e9d88bc6a070aa79b3ec2982c32d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d891651b0f63b9612d8d7d286c479bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a5d891651b0f63b9612d8d7d286c479bd">unregister_service_handler</a> ($handler)</td></tr>
<tr class="separator:a5d891651b0f63b9612d8d7d286c479bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2fa0d3a54d5332ccd169a9499e2669"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a4f2fa0d3a54d5332ccd169a9499e2669">rest_handler</a> ()</td></tr>
<tr class="separator:a4f2fa0d3a54d5332ccd169a9499e2669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c37ac78f7cd22afeca444988a820ab5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a0c37ac78f7cd22afeca444988a820ab5">api_unit_test</a> ($hook, $<a class="el" href="views_2default_2css_2admin_8php.html#a6e4f3473ef5a1db445d7f82bab04e366">type</a>, $value, $params)</td></tr>
<tr class="separator:a0c37ac78f7cd22afeca444988a820ab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ccd0c928d5e04e63259a15660dc076"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#a82ccd0c928d5e04e63259a15660dc076">api_init</a> ()</td></tr>
<tr class="separator:a82ccd0c928d5e04e63259a15660dc076"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad792dff46aab4ac70d8cf318deb3ff61"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ad792dff46aab4ac70d8cf318deb3ff61">$API_METHODS</a> = array()</td></tr>
<tr class="separator:ad792dff46aab4ac70d8cf318deb3ff61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7fd523ea3887c3b71ad5d2722d97b10"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="web__services_8php.html#ad7fd523ea3887c3b71ad5d2722d97b10">$ERRORS</a> = array()</td></tr>
<tr class="separator:ad7fd523ea3887c3b71ad5d2722d97b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a85258bc1c85d583d719a79c6b7168a0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_php_api_error_handler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$errno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$errmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$linenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$vars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>API PHP Error handler function. This function acts as a wrapper to catch and report PHP error messages.</p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://uk3.php.net/set-error-handler">http://uk3.php.net/set-error-handler</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$errno</td><td>Error number </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$errmsg</td><td>Human readable message </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$filename</td><td>Filename </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$linenum</td><td>Line number </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$vars</td><td>Vars</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void  private</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa7c62a46a8fbdc6ccc46fbc506afb1db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_php_api_exception_handler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$exception</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>API PHP Exception handler. This is a generic exception handler for PHP exceptions. This will catch any uncaught exception, end API execution and return the result to the requestor as an <a class="el" href="class_error_result.html">ErrorResult</a> in the requested format.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">Exception</td><td class="paramname">$exception</td><td>Exception</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="ab6c92a185dbafd79022a392ebbe7c2fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">api_auth_hmac </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PAM: Confirm the HMAC signature</p>
<dl class="section return"><dt>Returns</dt><dd>true if success - otherwise throws exception</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_security_exception.html">SecurityException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0  private </dd></dl>

</div>
</div>
<a class="anchor" id="a16fab47ebf5c35e8ae8271b064f37e92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">api_auth_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PAM: Confirm that the call includes a valid API key</p>
<dl class="section return"><dt>Returns</dt><dd>true if good API key - otherwise throws exception</dd>
<dd>
mixed </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_a_p_i_exception.html">APIException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0  private </dd></dl>

</div>
</div>
<a class="anchor" id="a82ccd0c928d5e04e63259a15660dc076"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">api_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise the API subsystem.</p>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="a0c37ac78f7cd22afeca444988a820ab5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">api_unit_test </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unit tests for API</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$hook</td><td>unit_test </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>system </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>Array of tests </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$params</td><td>Params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array  private </dd></dl>

</div>
</div>
<a class="anchor" id="ab79e46ee15a024df6b6915e804277886"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auth_gettoken </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The auth.gettoken API. This API call lets a user log in, returning an authentication token which can be used to authenticate a user for a period of time. It is passed in future calls as the parameter auth_token.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>Username </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>Clear text password</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Token string or exception </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_security_exception.html">SecurityException</a></td><td>private </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0a23be7417c69f3ab75c9918a9bde947"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">authenticate_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check that the method call has the proper API and user authentication</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>The api name that was exposed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or throws an exception </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_a_p_i_exception.html">APIException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0  private </dd></dl>

</div>
</div>
<a class="anchor" id="adf13aab50affa7c9d1d981680d25699a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cache_hmac_check_replay </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hmac</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function will do two things. Firstly it verifies that a HMAC signature hasn't been seen before, and secondly it will add the given hmac to the cache.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$hmac</td><td>The hmac string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True if replay detected, false if not.  private </dd></dl>

</div>
</div>
<a class="anchor" id="a45a5bbf61a7e681992ec14dee43e6040"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">calculate_hmac </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$algo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$nonce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$api_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$secret_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$get_variables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$post_hash</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the HMAC for the http request. This function signs an api request using the information provided. The signature returned has been base64 encoded and then url encoded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$algo</td><td>The HMAC algorithm used </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$time</td><td>String representation of unix time </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$nonce</td><td>Nonce </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$api_key</td><td>Your api key </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$secret_key</td><td>Your private key </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$get_variables</td><td>URLEncoded string representation of the get variable parameters, eg "method=user&amp;guid=2" </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$post_hash</td><td>Optional sha1 hash of the post data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The HMAC signature  private </dd></dl>

</div>
</div>
<a class="anchor" id="a12a1e9ca9568c7fbcaed1a794ffb6fd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">calculate_posthash </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$postdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$algo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate a hash for some post data.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000075">Todo:</a></b></dt><dd>Work out how to handle really large bits of data.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$postdata</td><td>The post data. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$algo</td><td>The algorithm used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The hash.  private </dd></dl>

</div>
</div>
<a class="anchor" id="aac96677eae59baadc39c197e773f6773"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_api_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_guid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate a new API user for a site, returning a new keypair on success.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$site_guid</td><td>The GUID of the site. (default is current site)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>stdClass object or false </dd></dl>

</div>
</div>
<a class="anchor" id="a35898d169d5059b653fed6e4d8abd867"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_user_token </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$expire</em> = <code>60</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtain a token for a user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>The username </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$expire</td><td>Minutes until token expires (default is 60 minutes)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="ae169892fb5b27a3faf17b9d369c55c8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">execute_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Executes a method. A method is a function which you have previously exposed using expose_function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>Method, e.g. "foo.bar"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_generic_result.html">GenericResult</a> The result of the execution. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_a_p_i_exception.html">APIException</a>,<a class="el" href="class_call_exception.html">CallException</a></td><td>private </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6d685d08532695a80625908f846d9cb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">expose_function </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$parameters</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$description</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$call_method</em> = <code>&quot;GET&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$require_api_auth</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$require_user_auth</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expose a function as a services api call.</p>
<p>Limitations: Currently cannot expose functions which expect objects. It also cannot handle arrays of bools or arrays of arrays. Also, input will be filtered to protect against XSS attacks through the API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>The api name to expose - for example "myapi.dosomething" </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$function</td><td>Your function callback. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$parameters</td><td>(optional) List of parameters in the same order as in your function. Default values may be set for parameters which allow REST api users flexibility in what parameters are passed. Generally, optional parameters should be after required parameters.</td></tr>
  </table>
  </dd>
</dl>
<p>This array should be in the format "variable" = array ( type =&gt; 'int' | 'bool' | 'float' | 'string' | 'array' required =&gt; true (default) | false default =&gt; value (optional) ) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$description</td><td>(optional) human readable description of the function. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$call_method</td><td>(optional) Define what http method must be used for this function. Default: GET </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$require_api_auth</td><td>(optional) (default is false) Does this method require API authorization? (example: API key) </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$require_user_auth</td><td>(optional) (default is false) Does this method require user authorization?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="ae1fa4b565ff1be2ca44dad79bc6ae82e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_and_validate_api_headers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function looks at the super-global variable $_SERVER and extracts the various header variables needed for the HMAC PAM</p>
<dl class="section return"><dt>Returns</dt><dd>stdClass Containing all the values. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_a_p_i_exception.html">APIException</a></td><td>Detailing any error.  private </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a53e3ae38d3507f8f78141fbb069b7744"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_api_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$api_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find an API User's details based on the provided public api key. These users are not users in the traditional sense.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$site_guid</td><td>The GUID of the site. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$api_key</td><td>The API Key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed stdClass representing the database row or false. </dd></dl>

</div>
</div>
<a class="anchor" id="a65c5ea099a097781a2d39dbe54283c6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_call_method </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the request method.</p>
<dl class="section return"><dt>Returns</dt><dd>string HTTP request method  private </dd></dl>

</div>
</div>
<a class="anchor" id="a993fa2a8db8bb03d52e61589cf7bfbd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_parameters_for_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function analyses all expected parameters for a given method</p>
<p>This function sanitizes the input parameters and returns them in an associated array.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>The method</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array containing parameters as key =&gt; value  private </dd></dl>

</div>
</div>
<a class="anchor" id="a9e24993cc15c9c0496d19872abe01c91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_post_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get POST data Since this is called through a handler, we need to manually get the post data</p>
<dl class="section return"><dt>Returns</dt><dd>POST data as string encoded as multipart/form-data  private </dd></dl>

</div>
</div>
<a class="anchor" id="a6b3bc74db0f2a34cf4e0f284092b9ad9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_standard_api_key_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$secret_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$api_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a key array suitable for the API client using the standard authentication method based on api-keys and secret keys.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$secret_key</td><td>Your secret key </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$api_key</td><td>Your api key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a class="anchor" id="ace54bab6080eab01e29f3bccfc1cb5ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_user_tokens </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_guid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get all tokens attached to a user</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_guid</td><td>The user GUID </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$site_guid</td><td>The ID of the site (default is current site)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if none available or array of stdClass objects (see users_apisessions schema for available variables in objects) </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ab208c68935a5585be85d347bcb4936d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list_all_apis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Simple api to return a list of all api's installed on the system.</p>
<dl class="section return"><dt>Returns</dt><dd>array  private </dd></dl>

</div>
</div>
<a class="anchor" id="a9750eeff71ed1bbd4d27e8ef7dfde1b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map_api_hash </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$algo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map various algorithms to their PHP equivs. This also gives us an easy way to disable algorithms.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$algo</td><td>The algorithm</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The php algorithm </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_a_p_i_exception.html">APIException</a></td><td>if an algorithm is not supported.  private </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7f5d3e2fd6042a9d627c6a9a06c8ecd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pam_auth_session </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>See if the user has a valid login sesson</p>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<a class="anchor" id="abb221f1a8e34bfe46b434338fffc10ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pam_auth_usertoken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check the user token This examines whether an authentication token is present and returns true if it is present and is valid. The user gets logged in so with the current session code of <a class="el" href="namespace_elgg.html">Elgg</a>, that user will be logged out of all other sessions.</p>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<a class="anchor" id="ac55e9d88bc6a070aa79b3ec2982c32d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">register_service_handler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers a web services handler</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$handler</td><td>Web services type </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$function</td><td>Your function name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Depending on success </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a3c53169d84af7cd7ee17fe69af39643c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_api_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$api_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Revoke an api user key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$site_guid</td><td>The GUID of the site. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$api_key</td><td>The API Key (public).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="a690be1d59bab41dc555ed313d763266a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_expired_user_tokens </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove expired tokens</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a9a21ec214f74d7d042d5c2e5ac0e26ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_user_token </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_guid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove user token</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>The toekn </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$site_guid</td><td>The ID of the site (default is current site)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a4f2fa0d3a54d5332ccd169a9499e2669"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rest_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>REST API handler</p>
<dl class="section return"><dt>Returns</dt><dd>void  private</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">SecurityException|APIException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8b98a982e4462bfa0c752e124bb98c0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">send_api_call </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em> = <code>'GET'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$post_data</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$content_type</em> = <code>'application/octet-stream'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a raw API call to an elgg api endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$keys</td><td>The api keys. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td>URL of the endpoint. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$call</td><td>Associated array of "variable" =&gt; "value" </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>GET or POST </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$post_data</td><td>The post data </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$content_type</td><td>The content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<a class="anchor" id="ab5fda5ab8d808955b37550e53b9a3f74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">send_api_get_call </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$keys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a GET call</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td>URL of the endpoint. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$call</td><td>Associated array of "variable" =&gt; "value" </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$keys</td><td>The keys dependant on chosen authentication method</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<a class="anchor" id="aee7382c2cbf1ad49ac6892556d3eaff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">send_api_post_call </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$post_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$content_type</em> = <code>'application/octet-stream'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a GET call</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td>URL of the endpoint. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$call</td><td>Associated array of "variable" =&gt; "value" </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$keys</td><td>The keys dependant on chosen authentication method </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$post_data</td><td>The post data </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$content_type</td><td>The content type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<a class="anchor" id="acaf14ce7035f7078700a004ea3596072"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">serialise_api_headers </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$headers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Utility function to serialise a header array into its text representation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$headers</td><td>The array of headers "key" =&gt; "value"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string  private </dd></dl>

</div>
</div>
<a class="anchor" id="ad76b4df7e187db409530e8cffe24ff59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">serialise_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serialize an array of parameters for an API method call</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>API method name </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$parameters</td><td>Array of parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string or exception </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_a_p_i_exception.html">APIException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0  private </dd></dl>

</div>
</div>
<a class="anchor" id="a3f900dabf17e09fd8211ff02da7f75c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">service_handler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Services handler - turns request over to the registered handler If no handler is found, this returns a 404 error</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$handler</td><td>Handler name </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$request</td><td>Request string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="a607fab92e52d7becfd78f39cbb084ecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unexpose_function </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregister an API method</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>The api name that was exposed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a5d891651b0f63b9612d8d7d286c479bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unregister_service_handler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a web service To replace a web service handler, register the desired handler over the old on with <a class="el" href="web__services_8php.html#ac55e9d88bc6a070aa79b3ec2982c32d6">register_service_handler()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$handler</td><td>web services type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a71aad434d21b69d2b31b9d41fce06112"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">validate_user_token </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_guid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validate a token against a given site.</p>
<p>A token registered with one site can not be used from a different apikey(site), so be aware of this during development.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>The Token. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$site_guid</td><td>The ID of the site (default is current site)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed The user id attached to the token if not expired or false. </dd></dl>

</div>
</div>
<a class="anchor" id="a6f30b37d6dd4aa000d4b16b82049470a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">verify_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verify that the required parameters are present</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$method</td><td>Method name </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$parameters</td><td>List of expected parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success or exception </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_a_p_i_exception.html">APIException</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0  private </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ad792dff46aab4ac70d8cf318deb3ff61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$API_METHODS = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A global array holding API methods. The structure of this is $API_METHODS = array ( $method =&gt; array ( "description" =&gt; "Some human readable description" "function" = 'my_function_callback' "parameters" = array ( "variable" = array ( // the order should be the same as the function callback type =&gt; 'int' | 'bool' | 'float' | 'string' required =&gt; true (default) | false default =&gt; value // optional ) ) "call_method" = 'GET' | 'POST' "require_api_auth" =&gt; true | false (default) "require_user_auth" =&gt; true | false (default) ) ) </p>

</div>
</div>
<a class="anchor" id="ad7fd523ea3887c3b71ad5d2722d97b10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$ERRORS = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Define a global array of errors </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 19 2012 12:53:45 for Elgg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
