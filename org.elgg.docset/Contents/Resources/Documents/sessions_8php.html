<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Elgg: Elgg/engine/lib/sessions.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="elgg_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elgg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e256eaafeeae80b9b34a28b1ef87f183.html">Elgg</a></li><li class="navelem"><a class="el" href="dir_ac9b7bd8ad09c3c5fda80b3cc2a21709.html">engine</a></li><li class="navelem"><a class="el" href="dir_8046085063ca2435fde818b58ec8052b.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sessions.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_elgg_1_1_core"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_elgg_1_1_core.html">Elgg\Core</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abf4a146df3537979f68fa275f161eea5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#abf4a146df3537979f68fa275f161eea5">elgg_get_logged_in_user_entity</a> ()</td></tr>
<tr class="separator:abf4a146df3537979f68fa275f161eea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a60ed3d6e1e03b1b25772dac35dbc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a74a60ed3d6e1e03b1b25772dac35dbc0">elgg_get_logged_in_user_guid</a> ()</td></tr>
<tr class="separator:a74a60ed3d6e1e03b1b25772dac35dbc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b2cb688c9a2e32a584fc7c10a3e038"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#ad3b2cb688c9a2e32a584fc7c10a3e038">elgg_is_logged_in</a> ()</td></tr>
<tr class="separator:ad3b2cb688c9a2e32a584fc7c10a3e038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c6256e03ff06499e017c37ffc7fd3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a53c6256e03ff06499e017c37ffc7fd3b">elgg_is_admin_logged_in</a> ()</td></tr>
<tr class="separator:a53c6256e03ff06499e017c37ffc7fd3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba32f12a35c39faaa7731005ace7e609"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#aba32f12a35c39faaa7731005ace7e609">elgg_is_admin_user</a> ($user_guid)</td></tr>
<tr class="separator:aba32f12a35c39faaa7731005ace7e609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d411cf6dcbcca3bd0b9572d9ecae77"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a45d411cf6dcbcca3bd0b9572d9ecae77">elgg_authenticate</a> ($username, $password)</td></tr>
<tr class="separator:a45d411cf6dcbcca3bd0b9572d9ecae77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1352203ee319628983dd46c24797be57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a1352203ee319628983dd46c24797be57">pam_auth_userpass</a> (array $credentials=array())</td></tr>
<tr class="separator:a1352203ee319628983dd46c24797be57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f71bb501e4ed779fe3fee2970ad148"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#ae7f71bb501e4ed779fe3fee2970ad148">log_login_failure</a> ($user_guid)</td></tr>
<tr class="separator:ae7f71bb501e4ed779fe3fee2970ad148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ceeeedd14f69d6e5b94b961cdb4218"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a85ceeeedd14f69d6e5b94b961cdb4218">reset_login_failure_count</a> ($user_guid)</td></tr>
<tr class="separator:a85ceeeedd14f69d6e5b94b961cdb4218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e30580bcb0fe0c835339fc5c4aa168"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#af2e30580bcb0fe0c835339fc5c4aa168">check_rate_limit_exceeded</a> ($user_guid)</td></tr>
<tr class="separator:af2e30580bcb0fe0c835339fc5c4aa168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3098385f445c6f8136ab7e4ce7819c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#af3098385f445c6f8136ab7e4ce7819c9">login</a> (<a class="el" href="class_elgg_user.html">ElggUser</a> $<a class="el" href="views_2default_2css_2admin_8php.html#a2496a85b9678a103196f2b30af9cfd3f">user</a>, $persistent=false)</td></tr>
<tr class="separator:af3098385f445c6f8136ab7e4ce7819c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082405d89acd6835c3a7c7a08a7adbab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a082405d89acd6835c3a7c7a08a7adbab">logout</a> ()</td></tr>
<tr class="separator:a082405d89acd6835c3a7c7a08a7adbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624c8f6fda47c9cd75c896e63a79f12a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a624c8f6fda47c9cd75c896e63a79f12a">_elgg_session_boot</a> ()</td></tr>
<tr class="separator:a624c8f6fda47c9cd75c896e63a79f12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab4ec019574a0d04b39570dc7ac9a00"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a4ab4ec019574a0d04b39570dc7ac9a00">gatekeeper</a> ()</td></tr>
<tr class="separator:a4ab4ec019574a0d04b39570dc7ac9a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2c1d3b6acf101eb049e6ea2d80a93f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a5d2c1d3b6acf101eb049e6ea2d80a93f">admin_gatekeeper</a> ()</td></tr>
<tr class="separator:a5d2c1d3b6acf101eb049e6ea2d80a93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562c899fca7ca2ffc0e4f8fd9aa801dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a562c899fca7ca2ffc0e4f8fd9aa801dd">_elgg_session_open</a> ($save_path, $session_name)</td></tr>
<tr class="separator:a562c899fca7ca2ffc0e4f8fd9aa801dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5cfa393445b28dca1ba32e28c7f8857"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#ad5cfa393445b28dca1ba32e28c7f8857">_elgg_session_close</a> ()</td></tr>
<tr class="separator:ad5cfa393445b28dca1ba32e28c7f8857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e1f28edf6af2654a941f202bfbcc00"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a80e1f28edf6af2654a941f202bfbcc00">_elgg_session_read</a> ($id)</td></tr>
<tr class="separator:a80e1f28edf6af2654a941f202bfbcc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f3e6e62e33e42c155205c4a6ee0c99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#ab6f3e6e62e33e42c155205c4a6ee0c99">_elgg_session_write</a> ($id, $sess_data)</td></tr>
<tr class="separator:ab6f3e6e62e33e42c155205c4a6ee0c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac29082dd909d9f82f2cc160d998ba422"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#ac29082dd909d9f82f2cc160d998ba422">_elgg_session_destroy</a> ($id)</td></tr>
<tr class="separator:ac29082dd909d9f82f2cc160d998ba422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5ac5d4713acb2256da9a9d690a385e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#ada5ac5d4713acb2256da9a9d690a385e">_elgg_session_gc</a> ($maxlifetime)</td></tr>
<tr class="separator:ada5ac5d4713acb2256da9a9d690a385e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5cd8b55900fecd3fcd98bb82b51d5e2f"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sessions_8php.html#a5cd8b55900fecd3fcd98bb82b51d5e2f">$SESSION</a></td></tr>
<tr class="separator:a5cd8b55900fecd3fcd98bb82b51d5e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a624c8f6fda47c9cd75c896e63a79f12a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_elgg_session_boot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialises the system session and potentially logs the user in</p>
<p>This function looks for:</p>
<ol type="1">
<li>$_SESSION['id'] - if not present, we're logged out, and this is set to 0</li>
<li>The cookie 'elggperm' - if present, checks it for an authentication token, validates it, and potentially logs the user in</li>
</ol>
<p>$_SESSION</p>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<a class="anchor" id="ad5cfa393445b28dca1ba32e28c7f8857"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_elgg_session_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes a session</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000067">Todo:</a></b></dt><dd><p class="startdd">implement </p>
<p class="enddd">document</p>
</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true  private </dd></dl>

</div>
</div>
<a class="anchor" id="ac29082dd909d9f82f2cc160d998ba422"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_elgg_session_destroy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a DB session, falling back to file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>Session ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<a class="anchor" id="ada5ac5d4713acb2256da9a9d690a385e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_elgg_session_gc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxlifetime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform garbage collection on session table / files</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$maxlifetime</td><td>Max age of a session</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<a class="anchor" id="a562c899fca7ca2ffc0e4f8fd9aa801dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_elgg_session_open </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$save_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$session_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles opening a session in the DB</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$save_path</td><td>The path to save the sessions </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$session_name</td><td>The name of the session</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000066">Todo:</a></b></dt><dd>Document  private </dd></dl>

</div>
</div>
<a class="anchor" id="a80e1f28edf6af2654a941f202bfbcc00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_elgg_session_read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the session data from DB failing back to file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>The session ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string  private </dd></dl>

</div>
</div>
<a class="anchor" id="ab6f3e6e62e33e42c155205c4a6ee0c99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_elgg_session_write </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sess_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write session data to the DB falling back to file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$id</td><td>The session ID </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$sess_data</td><td>Session data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<a class="anchor" id="a5d2c1d3b6acf101eb049e6ea2d80a93f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">admin_gatekeeper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used at the top of a page to mark it as logged in admin or siteadmin only.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="af2e30580bcb0fe0c835339fc5c4aa168"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_rate_limit_exceeded </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the rate limit of failed logins has been exceeded for $user_guid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_guid</td><td>User GUID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool on exceeded limit. </dd></dl>

</div>
</div>
<a class="anchor" id="a45d411cf6dcbcca3bd0b9572d9ecae77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_authenticate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform user authentication with a given username and password.</p>
<dl class="section warning"><dt>Warning</dt><dd>This returns an error message on failure. Use the identical operator to check for access: if (true === <a class="el" href="sessions_8php.html#a45d411cf6dcbcca3bd0b9572d9ecae77">elgg_authenticate()</a>) { ... }.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="sessions_8php.html#af3098385f445c6f8136ab7e4ce7819c9">login</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>The username </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>The password</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true|string True or an error message on failure  private </dd></dl>

</div>
</div>
<a class="anchor" id="abf4a146df3537979f68fa275f161eea5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_logged_in_user_entity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current logged in user, or NULL if no user is logged in.</p>
<p>If no user can be found in the current session, a plugin hook - 'session:get' 'user' to give plugin authors another way to provide user details to the ACL system without touching the session.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_elgg_user.html">ElggUser</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a74a60ed3d6e1e03b1b25772dac35dbc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_logged_in_user_guid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current logged in user by id.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="sessions_8php.html#abf4a146df3537979f68fa275f161eea5">elgg_get_logged_in_user_entity()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a class="anchor" id="a53c6256e03ff06499e017c37ffc7fd3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_is_admin_logged_in </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether or not the user is currently logged in and that they are an admin user.</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="aba32f12a35c39faaa7731005ace7e609"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_is_admin_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if the given user has full access.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000065">Todo:</a></b></dt><dd>: Will always return full access if the user is an admin.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_guid</td><td>The user to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.1 </dd></dl>

</div>
</div>
<a class="anchor" id="ad3b2cb688c9a2e32a584fc7c10a3e038"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_is_logged_in </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether or not the user is currently logged in</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="a4ab4ec019574a0d04b39570dc7ac9a00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gatekeeper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used at the top of a page to mark it as logged in users only.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="ae7f71bb501e4ed779fe3fee2970ad148"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">log_login_failure </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Log a failed login for $user_guid</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_guid</td><td>User GUID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="af3098385f445c6f8136ab7e4ce7819c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">login </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_elgg_user.html">ElggUser</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$persistent</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logs in a specified <a class="el" href="class_elgg_user.html">ElggUser</a>. For standard registration, use in conjunction with elgg_authenticate.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="sessions_8php.html#a45d411cf6dcbcca3bd0b9572d9ecae77">elgg_authenticate</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_elgg_user.html">ElggUser</a></td><td class="paramname">$user</td><td>A valid <a class="el" href="namespace_elgg.html">Elgg</a> user object </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$persistent</td><td>Should this be a persistent login?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or throws exception </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_login_exception.html">LoginException</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a082405d89acd6835c3a7c7a08a7adbab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Log the current user out</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="a1352203ee319628983dd46c24797be57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pam_auth_userpass </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$credentials</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hook into the PAM system which accepts a username and password and attempts to authenticate it against a known user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$credentials</td><td>Associated array of credentials passed to <a class="el" href="namespace_elgg.html">Elgg</a>'s PAM system. This function expects 'username' and 'password' (cleartext).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_login_exception.html">LoginException</a></td><td>private </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85ceeeedd14f69d6e5b94b961cdb4218"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reset_login_failure_count </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the fail login count for $user_guid</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_guid</td><td>User GUID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true on success (success = user has no logged failed attempts) </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a5cd8b55900fecd3fcd98bb82b51d5e2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">global $SESSION</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="namespace_elgg.html">Elgg</a> magic session </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 19 2012 12:53:44 for Elgg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
