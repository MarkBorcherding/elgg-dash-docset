<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Elgg: Elgg/engine/lib/access.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="elgg_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elgg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e256eaafeeae80b9b34a28b1ef87f183.html">Elgg</a></li><li class="navelem"><a class="el" href="dir_ac9b7bd8ad09c3c5fda80b3cc2a21709.html">engine</a></li><li class="navelem"><a class="el" href="dir_8046085063ca2435fde818b58ec8052b.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">access.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_elgg_1_1_core"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_elgg_1_1_core.html">Elgg\Core</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9ace245c304982f9e7d7c91e0fb6d1dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a9ace245c304982f9e7d7c91e0fb6d1dd">_elgg_get_access_cache</a> ()</td></tr>
<tr class="separator:a9ace245c304982f9e7d7c91e0fb6d1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23edfaf27fa7c47cc47f4ff195d76d6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a23edfaf27fa7c47cc47f4ff195d76d6a">get_access_list</a> ($user_id=0, $<a class="el" href="config_8php.html#af11a66322c38bb945afecd4e2279a4a6">site_id</a>=0, $flush=false)</td></tr>
<tr class="separator:a23edfaf27fa7c47cc47f4ff195d76d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd352b6343cd157d34dc6d2dae79a9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a6dd352b6343cd157d34dc6d2dae79a9d">get_access_array</a> ($user_id=0, $<a class="el" href="config_8php.html#af11a66322c38bb945afecd4e2279a4a6">site_id</a>=0, $flush=false)</td></tr>
<tr class="separator:a6dd352b6343cd157d34dc6d2dae79a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09204f9bf7fa26d8a204a9526bf63bda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a09204f9bf7fa26d8a204a9526bf63bda">get_default_access</a> (<a class="el" href="class_elgg_user.html">ElggUser</a> $<a class="el" href="views_2default_2css_2admin_8php.html#a2496a85b9678a103196f2b30af9cfd3f">user</a>=null)</td></tr>
<tr class="separator:a09204f9bf7fa26d8a204a9526bf63bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15794857a9e59613ff485226202b5b0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a15794857a9e59613ff485226202b5b0d">access_show_hidden_entities</a> ($show_hidden)</td></tr>
<tr class="separator:a15794857a9e59613ff485226202b5b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a93a876c2391face8d51c69fce4d16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a10a93a876c2391face8d51c69fce4d16">access_get_show_hidden_status</a> ()</td></tr>
<tr class="separator:a10a93a876c2391face8d51c69fce4d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea290e1b9e4db2e444cad21422230887"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#aea290e1b9e4db2e444cad21422230887">get_access_sql_suffix</a> ($table_prefix= '', $owner=null)</td></tr>
<tr class="separator:aea290e1b9e4db2e444cad21422230887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add9a2a1b63714f1fd5985fd6a61ae640"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#add9a2a1b63714f1fd5985fd6a61ae640">get_access_restriction_sql</a> ($annotation_name, $entity_guid, $<a class="el" href="pages_2avatar_2view_8php.html#abb8461b00316fcac6292c4b8d5878eb8">owner_guid</a>, $exists)</td></tr>
<tr class="separator:add9a2a1b63714f1fd5985fd6a61ae640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5f7246dfad0743a6568820d19858188"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#af5f7246dfad0743a6568820d19858188">has_access_to_entity</a> ($<a class="el" href="views_2default_2css_2elements_2navigation_8php.html#a9a88ca53876db3560a09f06672271628">entity</a>, $<a class="el" href="views_2default_2css_2admin_8php.html#a2496a85b9678a103196f2b30af9cfd3f">user</a>=null)</td></tr>
<tr class="separator:af5f7246dfad0743a6568820d19858188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ddaf14e1625a4f84a4cf95615f0226f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a1ddaf14e1625a4f84a4cf95615f0226f">get_write_access_array</a> ($user_id=0, $<a class="el" href="config_8php.html#af11a66322c38bb945afecd4e2279a4a6">site_id</a>=0, $flush=false)</td></tr>
<tr class="separator:a1ddaf14e1625a4f84a4cf95615f0226f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ccd7b9469a5a7a6a23f5cba87dada8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a0ccd7b9469a5a7a6a23f5cba87dada8b">can_edit_access_collection</a> ($collection_id, $user_guid=null)</td></tr>
<tr class="separator:a0ccd7b9469a5a7a6a23f5cba87dada8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8515ffedce90f755ed58262eb26c6c65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a8515ffedce90f755ed58262eb26c6c65">create_access_collection</a> ($<a class="el" href="actions_2twitter__api_2interstitial__settings_8php.html#a15907ec3dd0d6369a0a804dec31747cb">name</a>, $<a class="el" href="pages_2avatar_2view_8php.html#abb8461b00316fcac6292c4b8d5878eb8">owner_guid</a>=0, $<a class="el" href="config_8php.html#af3ce158b8d6463c065fe03b13303adc0">site_guid</a>=0)</td></tr>
<tr class="separator:a8515ffedce90f755ed58262eb26c6c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35396bc2424cad1ab3dfb5ef7c3a49b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a35396bc2424cad1ab3dfb5ef7c3a49b7">update_access_collection</a> ($collection_id, $members)</td></tr>
<tr class="separator:a35396bc2424cad1ab3dfb5ef7c3a49b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632650c1d1b15dbe5c52c10a7bc856f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a632650c1d1b15dbe5c52c10a7bc856f4">delete_access_collection</a> ($collection_id)</td></tr>
<tr class="separator:a632650c1d1b15dbe5c52c10a7bc856f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ff98e44dc53766b4e7216c763028ed7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a9ff98e44dc53766b4e7216c763028ed7">get_access_collection</a> ($collection_id)</td></tr>
<tr class="separator:a9ff98e44dc53766b4e7216c763028ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17767a1861da9b6412b42a399153659"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#ac17767a1861da9b6412b42a399153659">add_user_to_access_collection</a> ($user_guid, $collection_id)</td></tr>
<tr class="separator:ac17767a1861da9b6412b42a399153659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6795bae58f8b0852631efc434631f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a3d6795bae58f8b0852631efc434631f7">remove_user_from_access_collection</a> ($user_guid, $collection_id)</td></tr>
<tr class="separator:a3d6795bae58f8b0852631efc434631f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5f77a9f040b1f26a4f1def60b70134"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a9f5f77a9f040b1f26a4f1def60b70134">get_user_access_collections</a> ($<a class="el" href="pages_2avatar_2view_8php.html#abb8461b00316fcac6292c4b8d5878eb8">owner_guid</a>, $<a class="el" href="config_8php.html#af3ce158b8d6463c065fe03b13303adc0">site_guid</a>=0)</td></tr>
<tr class="separator:a9f5f77a9f040b1f26a4f1def60b70134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af910b9b7ddbd8ff66bede4fc1ac15d2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#af910b9b7ddbd8ff66bede4fc1ac15d2b">get_members_of_access_collection</a> ($collection, $idonly=FALSE)</td></tr>
<tr class="separator:af910b9b7ddbd8ff66bede4fc1ac15d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5361b6a889ae345997afba19d88b7bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#ad5361b6a889ae345997afba19d88b7bd">elgg_get_entities_from_access_id</a> (array $options=array())</td></tr>
<tr class="separator:ad5361b6a889ae345997afba19d88b7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae003a8a90cc4a572d417fabe45cbf91f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#ae003a8a90cc4a572d417fabe45cbf91f">elgg_list_entities_from_access_id</a> (array $options=array())</td></tr>
<tr class="separator:ae003a8a90cc4a572d417fabe45cbf91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878e29d91d921c9f23b0fffd1713424a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a878e29d91d921c9f23b0fffd1713424a">get_readable_access_level</a> ($entity_access_id)</td></tr>
<tr class="separator:a878e29d91d921c9f23b0fffd1713424a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ba37dd1671ae3bbab5af1c31906048"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a73ba37dd1671ae3bbab5af1c31906048">elgg_set_ignore_access</a> ($ignore=true)</td></tr>
<tr class="separator:a73ba37dd1671ae3bbab5af1c31906048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb2f6e50682a94a0d684cd572e7a555"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a4bb2f6e50682a94a0d684cd572e7a555">elgg_get_ignore_access</a> ()</td></tr>
<tr class="separator:a4bb2f6e50682a94a0d684cd572e7a555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5cc7fce566291b6439a3720f003e7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a3a5cc7fce566291b6439a3720f003e7b">elgg_check_access_overrides</a> ($user_guid=0)</td></tr>
<tr class="separator:a3a5cc7fce566291b6439a3720f003e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45785019065800c726e2f5af3f6cee6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a45785019065800c726e2f5af3f6cee6f">elgg_get_access_object</a> ()</td></tr>
<tr class="separator:a45785019065800c726e2f5af3f6cee6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122fbe470c3e2a68f62060c2eaead246"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a122fbe470c3e2a68f62060c2eaead246">access_init</a> ()</td></tr>
<tr class="separator:a122fbe470c3e2a68f62060c2eaead246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf28f2719884c02c301b87d2e94bb8ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#acf28f2719884c02c301b87d2e94bb8ac">elgg_override_permissions</a> ($hook, $<a class="el" href="views_2default_2css_2admin_8php.html#a6e4f3473ef5a1db445d7f82bab04e366">type</a>, $value, $params)</td></tr>
<tr class="separator:acf28f2719884c02c301b87d2e94bb8ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab786d904289da75629b10756744a7b1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#ab786d904289da75629b10756744a7b1e">access_test</a> ($hook, $<a class="el" href="views_2default_2css_2admin_8php.html#a6e4f3473ef5a1db445d7f82bab04e366">type</a>, $value, $params)</td></tr>
<tr class="separator:ab786d904289da75629b10756744a7b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ade8e6e45b20b216750e5773ae53092d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#ade8e6e45b20b216750e5773ae53092d4">$ENTITY_SHOW_HIDDEN_OVERRIDE</a> = false</td></tr>
<tr class="separator:ade8e6e45b20b216750e5773ae53092d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7945482fe6f6a798dd2effee0b7195fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2access_8php.html#a7945482fe6f6a798dd2effee0b7195fb">$init_finished</a> = false</td></tr>
<tr class="separator:a7945482fe6f6a798dd2effee0b7195fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9ace245c304982f9e7d7c91e0fb6d1dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_elgg_get_access_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return an <a class="el" href="class_elgg_cache.html">ElggCache</a> static variable cache for the access caches</p>
<p><a class="el" href="class_elgg_static_variable_cache.html">ElggStaticVariableCache</a> $access_cache </p>
<dl class="section return"><dt>Returns</dt><dd>private </dd></dl>
<p>A default filestore cache using the dataroot.</p>

</div>
</div>
<a class="anchor" id="a10a93a876c2391face8d51c69fce4d16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">access_get_show_hidden_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return current status of showing disabled entities.</p>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<a class="anchor" id="a122fbe470c3e2a68f62060c2eaead246"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">access_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A quick and dirty way to make sure the access permissions have been correctly set up</p>
<p>init system </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000033">Todo:</a></b></dt><dd>Invesigate</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a15794857a9e59613ff485226202b5b0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">access_show_hidden_entities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$show_hidden</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Show or hide disabled entities.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$show_hidden</td><td>Show disabled entities. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="ab786d904289da75629b10756744a7b1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">access_test </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs unit tests for the entities object.  private </p>

</div>
</div>
<a class="anchor" id="ac17767a1861da9b6412b42a399153659"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">add_user_to_access_collection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$collection_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a user to an access collection.</p>
<p>Triggers the 'access:collections:add_user', 'collection' plugin hook.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_guid</td><td>The GUID of the user to add </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$collection_id</td><td>The ID of the collection to add them to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="engine_2lib_2access_8php.html#a35396bc2424cad1ab3dfb5ef7c3a49b7">update_access_collection()</a> </dd>
<dd>
<a class="el" href="engine_2lib_2access_8php.html#a3d6795bae58f8b0852631efc434631f7">remove_user_from_access_collection()</a> <a class="el" href="">http://docs.elgg.org/Access/Collections</a></dd></dl>

</div>
</div>
<a class="anchor" id="a0ccd7b9469a5a7a6a23f5cba87dada8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">can_edit_access_collection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$collection_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Can the user change this access collection?</p>
<p>Use the plugin hook of 'access:collections:write', 'user' to change this. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="engine_2lib_2access_8php.html#a1ddaf14e1625a4f84a4cf95615f0226f">get_write_access_array()</a> <a class="el" href="views_2default_2forms_2admin_2menu_2save_8php.html#ae212855c69e8565027dd8c99f1e8c66c">for</a> details on the hook.</dd></dl>
<p>Respects access control disabling for admin users and {</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="engine_2lib_2access_8php.html#a73ba37dd1671ae3bbab5af1c31906048">elgg_set_ignore_access()</a>}</dd>
<dd>
<a class="el" href="engine_2lib_2access_8php.html#a1ddaf14e1625a4f84a4cf95615f0226f">get_write_access_array()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$collection_id</td><td>The collection id </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$user_guid</td><td>The user GUID to check for. Defaults to logged in user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="a8515ffedce90f755ed58262eb26c6c65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_access_collection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$owner_guid</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_guid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new access collection.</p>
<p>Access colletions allow plugins and users to create granular access for entities.</p>
<p>Triggers plugin hook 'access:collections:addcollection', 'collection' </p>

</div>
</div>
<a class="anchor" id="a632650c1d1b15dbe5c52c10a7bc856f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete_access_collection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$collection_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes a specified access collection and its membership.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$collection_id</td><td>The collection ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool <a class="el" href="">create_access_collection()  update_access_collection() </a></dd></dl>

</div>
</div>
<a class="anchor" id="a3a5cc7fce566291b6439a3720f003e7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_check_access_overrides </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decides if the access system should be ignored for a user.</p>
<p>Returns true (meaning ignore access) if either of these 2 conditions are true: 1) an admin user guid is passed to this function. 2) <a class="el" href="engine_2lib_2access_8php.html#a4bb2f6e50682a94a0d684cd572e7a555">elgg_get_ignore_access()</a> returns true.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="engine_2lib_2access_8php.html#a73ba37dd1671ae3bbab5af1c31906048">elgg_set_ignore_access()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_guid</td><td>The user to check against.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a45785019065800c726e2f5af3f6cee6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_access_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the <a class="el" href="class_elgg_access.html">ElggAccess</a> object.</p>
<p>// </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000031">Todo:</a></b></dt><dd>comment is incomplete This is used to</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_elgg_access.html">ElggAccess</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0  private </dd></dl>

</div>
</div>
<a class="anchor" id="ad5361b6a889ae345997afba19d88b7bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_entities_from_access_id </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$options</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return entities based upon access id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>Any options accepted by <a class="el" href="lib_2entities_8php.html#af085c8362e49c4f52d4f1fcf58ca6fb8">elgg_get_entities()</a> and access_id =&gt; int The access ID of the entity.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="lib_2entities_8php.html#af085c8362e49c4f52d4f1fcf58ca6fb8">elgg_get_entities()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>mixed If count, int. If not count, array. false on errors. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a4bb2f6e50682a94a0d684cd572e7a555"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_get_ignore_access </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get current ignore access setting.</p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://docs.elgg.org/Access/IgnoreAccess">http://docs.elgg.org/Access/IgnoreAccess</a> </dd>
<dd>
<a class="el" href="engine_2lib_2access_8php.html#a73ba37dd1671ae3bbab5af1c31906048">elgg_set_ignore_access()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae003a8a90cc4a572d417fabe45cbf91f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_list_entities_from_access_id </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$options</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lists entities from an access collection</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>See <a class="el" href="lib_2entities_8php.html#a3a100de94a0d137ff3320335aca19152">elgg_list_entities()</a> and <a class="el" href="engine_2lib_2access_8php.html#ad5361b6a889ae345997afba19d88b7bd">elgg_get_entities_from_access_id()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="lib_2entities_8php.html#a3a100de94a0d137ff3320335aca19152">elgg_list_entities()</a> </dd>
<dd>
<a class="el" href="engine_2lib_2access_8php.html#ad5361b6a889ae345997afba19d88b7bd">elgg_get_entities_from_access_id()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

</div>
</div>
<a class="anchor" id="acf28f2719884c02c301b87d2e94bb8ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_override_permissions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Overrides the access system if appropriate.</p>
<p>Allows admin users and calls after <a class="el" href="engine_2lib_2access_8php.html#a73ba37dd1671ae3bbab5af1c31906048">elgg_set_ignore_access</a> to bypass the access system.</p>
<p>Registered for the 'permissions_check', 'all' and the 'container_permissions_check', 'all' plugin hooks.</p>
<p>Returns true to override the access system or null if no change is needed.</p>
<dl class="section return"><dt>Returns</dt><dd>true|null  private </dd></dl>

</div>
</div>
<a class="anchor" id="a73ba37dd1671ae3bbab5af1c31906048"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_set_ignore_access </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$ignore</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set if entity access system should be ignored.</p>
<p>The access system will not return entities in any getter functions if the user doesn't have access. </p>

</div>
</div>
<a class="anchor" id="a6dd352b6343cd157d34dc6d2dae79a9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_access_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_id</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_id</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$flush</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an array of access IDs a user is permitted to see.</p>
<p>Can be overridden with the 'access:collections:read', 'user' plugin hook.</p>
<p>This returns a list of all the collection ids a user owns or belongs to plus public and logged in access levels. If the user is an admin, it includes the private access level. </p>

</div>
</div>
<a class="anchor" id="a9ff98e44dc53766b4e7216c763028ed7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_access_collection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$collection_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a specified access collection</p>
<dl class="section note"><dt>Note</dt><dd>This doesn't return the members of an access collection, just the database row of the actual collection.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="engine_2lib_2access_8php.html#af910b9b7ddbd8ff66bede4fc1ac15d2b">get_members_of_access_collection()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$collection_id</td><td>The collection ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>object|false </dd></dl>

</div>
</div>
<a class="anchor" id="a23edfaf27fa7c47cc47f4ff195d76d6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_access_list </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_id</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_id</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$flush</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a string of access_ids for $user_id appropriate for inserting into an SQL IN clause.</p>
<p>get_access_array</p>
<p><a class="el" href="">get_access_array()  int $user_id User ID; defaults to currently logged in user  int $site_id Site ID; defaults to current site  bool $flush If set to true, will refresh the access list from the database rather than using this function's cache.  string A list of access collections suitable for using in an SQL call  private </a></p>

</div>
</div>
<a class="anchor" id="add9a2a1b63714f1fd5985fd6a61ae640"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_access_restriction_sql </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$annotation_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$entity_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$owner_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$exists</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the where clause for an access restriction based on annotations</p>
<p>Returns an SQL fragment that is true (or optionally false) if the given user has added an annotation with the given name to the given entity.</p>
<dl class="section warning"><dt>Warning</dt><dd>this is a private function for an untested capability and will likely be removed from a future version of <a class="el" href="namespace_elgg.html">Elgg</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$annotation_name</td><td>Name of the annotation </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$entity_guid</td><td>SQL GUID of entity the annotation is attached to. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$owner_guid</td><td>SQL string that evaluates to the GUID of the annotation owner </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$exists</td><td>If true, returns BOOL if the annotation exists</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string An SQL fragment suitable for inserting into a WHERE clause  private </dd></dl>

</div>
</div>
<a class="anchor" id="aea290e1b9e4db2e444cad21422230887"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_access_sql_suffix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table_prefix</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$owner</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the SQL where clause for a table with a access_id and enabled columns.</p>
<p>This handles returning where clauses for ACCESS_FRIENDS and the currently unused block and filter lists in addition to using <a class="el" href="engine_2lib_2access_8php.html#a23edfaf27fa7c47cc47f4ff195d76d6a">get_access_list()</a> for access collections and the standard access levels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table_prefix</td><td>Optional table. prefix for the access code. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$owner</td><td>The guid to check access for. Defaults to logged in user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The SQL for a where clause  private </dd></dl>

</div>
</div>
<a class="anchor" id="a09204f9bf7fa26d8a204a9526bf63bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_default_access </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_elgg_user.html">ElggUser</a>&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the default access permission.</p>
<p>This returns the default access level for the site or optionally for the user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_elgg_user.html">ElggUser</a></td><td class="paramname">$user</td><td>Get the user's default access. Defaults to logged in user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int default access id (see ACCESS defines in <a class="el" href="elgglib_8php.html">elgglib.php</a>) <a class="el" href="">http://docs.elgg.org/Access</a></dd></dl>

</div>
</div>
<a class="anchor" id="af910b9b7ddbd8ff66bede4fc1ac15d2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_members_of_access_collection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$collection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$idonly</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get all of members of an access collection</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$collection</td><td>The collection's ID </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$idonly</td><td>If set to true, will only return the members' GUIDs (default: false)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array <a class="el" href="class_elgg_user.html">ElggUser</a> guids or entities if successful, false if not </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="engine_2lib_2access_8php.html#ac17767a1861da9b6412b42a399153659">add_user_to_access_collection()</a> </dd>
<dd>
<a href="http://docs.elgg.org/Access/Collections">http://docs.elgg.org/Access/Collections</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a878e29d91d921c9f23b0fffd1713424a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_readable_access_level </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$entity_access_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the name of an ACCESS_* constant or a access collection, but only if the user has write access on that ACL.</p>
<dl class="section warning"><dt>Warning</dt><dd>This function probably doesn't work how it's meant to.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$entity_access_id</td><td>The entity's access id</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string 'Public', 'Private', etc. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.0 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000030">Todo:</a></b></dt><dd>I think this probably wants <a class="el" href="engine_2lib_2access_8php.html#a6dd352b6343cd157d34dc6d2dae79a9d">get_access_array()</a> instead of <a class="el" href="engine_2lib_2access_8php.html#a1ddaf14e1625a4f84a4cf95615f0226f">get_write_access_array()</a>, but those two functions return different types of arrays. </dd></dl>

</div>
</div>
<a class="anchor" id="a9f5f77a9f040b1f26a4f1def60b70134"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_user_access_collections </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$owner_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_guid</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an array of database row objects of the access collections owned by $owner_guid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$owner_guid</td><td>The entity guid </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$site_guid</td><td>The GUID of the site (default: current site).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array|false </dd></dl>
<dl class="section see"><dt>See Also</dt><dd>add_access_collection() </dd>
<dd>
<a class="el" href="engine_2lib_2access_8php.html#af910b9b7ddbd8ff66bede4fc1ac15d2b">get_members_of_access_collection()</a> <a class="el" href="">http://docs.elgg.org/Access/Collections</a></dd></dl>

</div>
</div>
<a class="anchor" id="a1ddaf14e1625a4f84a4cf95615f0226f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_write_access_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_id</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$site_id</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$flush</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an array of access permissions that the user is allowed to save content with. Permissions returned are of the form (id =&gt; 'name').</p>
<p>Example return value in English: array( 0 =&gt; 'Private', -2 =&gt; 'Friends', 1 =&gt; 'Logged in users', 2 =&gt; 'Public', 34 =&gt; 'My favorite friends', );</p>
<p>Plugin hook of 'access:collections:write', 'user'</p>
<dl class="section warning"><dt>Warning</dt><dd>this only returns access collections that the user owns plus the standard access levels. It does not return access collections that the user belongs to such as the access collection for a group.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_id</td><td>The user's GUID. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$site_id</td><td>The current site. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$flush</td><td>If this is set to true, this will ignore a cached access array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array List of access permissions <a class="el" href="">http://docs.elgg.org/Access</a></dd></dl>

</div>
</div>
<a class="anchor" id="af5f7246dfad0743a6568820d19858188"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">has_access_to_entity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Can a user access an entity.</p>
<dl class="section warning"><dt>Warning</dt><dd>If a logged in user doesn't have access to an entity, the core engine will not load that entity.</dd></dl>
<p>This is mostly useful for checking if a user other than the logged in user has access to an entity that is currently loaded.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000029">Todo:</a></b></dt><dd>This function would be much more useful if we could pass the guid of the entity to test access for. We need to be able to tell whether the entity exists and whether the user has access to the entity.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_elgg_entity.html">ElggEntity</a></td><td class="paramname">$entity</td><td>The entity to check access for. </td></tr>
    <tr><td class="paramtype"><a class="el" href="class_elgg_user.html">ElggUser</a></td><td class="paramname">$user</td><td>Optionally user to check access for. Defaults to logged in user (which is a useless default).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool <a class="el" href="">http://docs.elgg.org/Access</a></dd></dl>

</div>
</div>
<a class="anchor" id="a3d6795bae58f8b0852631efc434631f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remove_user_from_access_collection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user_guid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$collection_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a user from an access collection.</p>
<p>Triggers the 'access:collections:remove_user', 'collection' plugin hook.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$user_guid</td><td>The user GUID </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$collection_id</td><td>The access collection ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="engine_2lib_2access_8php.html#a35396bc2424cad1ab3dfb5ef7c3a49b7">update_access_collection()</a> </dd>
<dd>
<a class="el" href="engine_2lib_2access_8php.html#a3d6795bae58f8b0852631efc434631f7">remove_user_from_access_collection()</a> <a class="el" href="">http://docs.elgg.org/Access/Collections</a></dd></dl>

</div>
</div>
<a class="anchor" id="a35396bc2424cad1ab3dfb5ef7c3a49b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_access_collection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$collection_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$members</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the membership in an access collection.</p>
<dl class="section warning"><dt>Warning</dt><dd>Expects a full list of all members that should be part of the access collection</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This will run all hooks associated with adding or removing members to access collections.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$collection_id</td><td>The ID of the collection. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$members</td><td>Array of member GUIDs</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool <a class="el" href="">add_user_to_access_collection()  remove_user_from_access_collection() </a></dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ade8e6e45b20b216750e5773ae53092d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$ENTITY_SHOW_HIDDEN_OVERRIDE = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allow disabled entities and metadata to be returned by getter functions</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000028">Todo:</a></b></dt><dd>Replace this with query object!  bool $ENTITY_SHOW_HIDDEN_OVERRIDE  private </dd></dl>

</div>
</div>
<a class="anchor" id="a7945482fe6f6a798dd2effee0b7195fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$init_finished = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A flag to set if <a class="el" href="namespace_elgg.html">Elgg</a>'s access initialization is finished.</p>
<p>bool $init_finished  private </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000032">Todo:</a></b></dt><dd>This is required to tell the access system to start caching because calls are made while in ignore access mode and before the user is logged in. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 19 2012 12:53:44 for Elgg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
