<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Elgg: Elgg/engine/lib/database.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="elgg_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elgg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e256eaafeeae80b9b34a28b1ef87f183.html">Elgg</a></li><li class="navelem"><a class="el" href="dir_ac9b7bd8ad09c3c5fda80b3cc2a21709.html">engine</a></li><li class="navelem"><a class="el" href="dir_8046085063ca2435fde818b58ec8052b.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">database.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_elgg_1_1_core"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_elgg_1_1_core.html">Elgg\Core</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1a9bae1ad64629d19fbf479ee97fd6a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a1a9bae1ad64629d19fbf479ee97fd6a7">establish_db_link</a> ($dblinkname=&quot;readwrite&quot;)</td></tr>
<tr class="separator:a1a9bae1ad64629d19fbf479ee97fd6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f2865981b66d9bacf04d1791cccf93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a93f2865981b66d9bacf04d1791cccf93">setup_db_connections</a> ()</td></tr>
<tr class="separator:a93f2865981b66d9bacf04d1791cccf93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf8c46d3979ba2b9f91fcbe0a121ea1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a3cf8c46d3979ba2b9f91fcbe0a121ea1">db_profiling_shutdown_hook</a> ()</td></tr>
<tr class="separator:a3cf8c46d3979ba2b9f91fcbe0a121ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8022bfc3998ecd892ff27f8242e2f4aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a8022bfc3998ecd892ff27f8242e2f4aa">db_delayedexecution_shutdown_hook</a> ()</td></tr>
<tr class="separator:a8022bfc3998ecd892ff27f8242e2f4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbca4fd32b25f6b2e13518f978ef2dfc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#afbca4fd32b25f6b2e13518f978ef2dfc">get_db_link</a> ($dblinktype)</td></tr>
<tr class="separator:afbca4fd32b25f6b2e13518f978ef2dfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d6cfa526de0b2bec4c2cd1d4ccf56c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a77d6cfa526de0b2bec4c2cd1d4ccf56c">explain_query</a> ($query, $link)</td></tr>
<tr class="separator:a77d6cfa526de0b2bec4c2cd1d4ccf56c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d20b890866a99258c12b919bbc6da0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a6d20b890866a99258c12b919bbc6da0a">execute_query</a> ($query, $dblink)</td></tr>
<tr class="separator:a6d20b890866a99258c12b919bbc6da0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d952fd50f788bfda99de897b768dd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a38d952fd50f788bfda99de897b768dd9">execute_delayed_query</a> ($query, $dblink, $handler=&quot;&quot;)</td></tr>
<tr class="separator:a38d952fd50f788bfda99de897b768dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad03f827016fde8428fb40f3ee87aa887"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#ad03f827016fde8428fb40f3ee87aa887">execute_delayed_write_query</a> ($query, $handler=&quot;&quot;)</td></tr>
<tr class="separator:ad03f827016fde8428fb40f3ee87aa887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5dac2a872cbd219f2770bf248754711"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#ac5dac2a872cbd219f2770bf248754711">execute_delayed_read_query</a> ($query, $handler=&quot;&quot;)</td></tr>
<tr class="separator:ac5dac2a872cbd219f2770bf248754711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9cd598233ae5da2b9da6f4188155453"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#ad9cd598233ae5da2b9da6f4188155453">get_data</a> ($query, $callback=&quot;&quot;)</td></tr>
<tr class="separator:ad9cd598233ae5da2b9da6f4188155453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf956a09a1797acea02c648001f14455"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#abf956a09a1797acea02c648001f14455">get_data_row</a> ($query, $callback=&quot;&quot;)</td></tr>
<tr class="separator:abf956a09a1797acea02c648001f14455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ef2eab3ae903553c3400d5919ad201"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#ad3ef2eab3ae903553c3400d5919ad201">elgg_query_runner</a> ($query, $callback=null, $single=false)</td></tr>
<tr class="separator:ad3ef2eab3ae903553c3400d5919ad201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a75856d5db723fe21ec27f4820d6e5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a4a75856d5db723fe21ec27f4820d6e5b">insert_data</a> ($query)</td></tr>
<tr class="separator:a4a75856d5db723fe21ec27f4820d6e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1251888816844ab00bb0da66bbc9d48f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a1251888816844ab00bb0da66bbc9d48f">update_data</a> ($query)</td></tr>
<tr class="separator:a1251888816844ab00bb0da66bbc9d48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042a252108e325134f371f9b80453afa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a042a252108e325134f371f9b80453afa">delete_data</a> ($query)</td></tr>
<tr class="separator:a042a252108e325134f371f9b80453afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e36d2488d87e488aaa95fe56533ab6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a04e36d2488d87e488aaa95fe56533ab6">get_db_tables</a> ()</td></tr>
<tr class="separator:a04e36d2488d87e488aaa95fe56533ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc0d3fca3bf917b5a87b47ab93b5791"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#addc0d3fca3bf917b5a87b47ab93b5791">optimize_table</a> ($<a class="el" href="views_2default_2css_2elements_2typography_8php.html#a30a28d97f9533a58265aab3f17cb8a3b">table</a>)</td></tr>
<tr class="separator:addc0d3fca3bf917b5a87b47ab93b5791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122d0820f3281ce69c615bb9e6d620ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a122d0820f3281ce69c615bb9e6d620ca">get_db_error</a> ($dblink)</td></tr>
<tr class="separator:a122d0820f3281ce69c615bb9e6d620ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af934a51dfa448376c465be45315e4d88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#af934a51dfa448376c465be45315e4d88">run_sql_script</a> ($scriptlocation)</td></tr>
<tr class="separator:af934a51dfa448376c465be45315e4d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f07ebe04d31d4f96c7310e878319b57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a9f07ebe04d31d4f96c7310e878319b57">elgg_format_query</a> ($query)</td></tr>
<tr class="separator:a9f07ebe04d31d4f96c7310e878319b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d1243c21e091d538d9ff57f3543618"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a55d1243c21e091d538d9ff57f3543618">sanitise_string_special</a> ($string, $extra_escapeable= '')</td></tr>
<tr class="separator:a55d1243c21e091d538d9ff57f3543618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d86f7dc87033ca8db5e4ad4765150fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a0d86f7dc87033ca8db5e4ad4765150fc">sanitise_string</a> ($string)</td></tr>
<tr class="separator:a0d86f7dc87033ca8db5e4ad4765150fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364951fa65305cba698867c3b2f22533"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a364951fa65305cba698867c3b2f22533">sanitize_string</a> ($string)</td></tr>
<tr class="separator:a364951fa65305cba698867c3b2f22533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b722fd60e4612b20c62c5403cb1dfe6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a3b722fd60e4612b20c62c5403cb1dfe6">sanitise_int</a> ($int, $signed=true)</td></tr>
<tr class="separator:a3b722fd60e4612b20c62c5403cb1dfe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d4fc34fc71f9a43976e7d2f11d7ebe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a26d4fc34fc71f9a43976e7d2f11d7ebe">sanitize_int</a> ($int, $signed=true)</td></tr>
<tr class="separator:a26d4fc34fc71f9a43976e7d2f11d7ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3772ac33a45fcf2f326cfae152f98613"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a3772ac33a45fcf2f326cfae152f98613">init_db</a> ()</td></tr>
<tr class="separator:a3772ac33a45fcf2f326cfae152f98613"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a127f68ebab2e37eb13bd94f9546ddfd8"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a127f68ebab2e37eb13bd94f9546ddfd8">$DB_QUERY_CACHE</a> = array()</td></tr>
<tr class="separator:a127f68ebab2e37eb13bd94f9546ddfd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5af99bb3f5cbfb51366357b188d84c1"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#ad5af99bb3f5cbfb51366357b188d84c1">$DB_DELAYED_QUERIES</a> = array()</td></tr>
<tr class="separator:ad5af99bb3f5cbfb51366357b188d84c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86918ee846c9b6a7953cbb3dfb595faf"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#a86918ee846c9b6a7953cbb3dfb595faf">$dblink</a> = array()</td></tr>
<tr class="separator:a86918ee846c9b6a7953cbb3dfb595faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb9d7f0b810a70a8096007b989488fb"><td class="memItemLeft" align="right" valign="top">global&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="engine_2lib_2database_8php.html#aedb9d7f0b810a70a8096007b989488fb">$dbcalls</a> = 0</td></tr>
<tr class="separator:aedb9d7f0b810a70a8096007b989488fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8022bfc3998ecd892ff27f8242e2f4aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_delayedexecution_shutdown_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute any delayed queries upon shutdown.</p>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="a3cf8c46d3979ba2b9f91fcbe0a121ea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_profiling_shutdown_hook </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display profiling information about db at NOTICE debug level upon shutdown.</p>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="a042a252108e325134f371f9b80453afa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a row from the database.</p>
<dl class="section note"><dt>Note</dt><dd>Altering the DB invalidates all queries in <a class="el" href="2011052801_8php.html#acad8903af2f3041e2cfdf7a2f5051516">$DB_QUERY_CACHE</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td>The SQL query to run</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int|false The number of affected rows or false on failure  private </dd></dl>

</div>
</div>
<a class="anchor" id="a9f07ebe04d31d4f96c7310e878319b57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_format_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Format a query string for logging</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td>Query string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string  private </dd></dl>

</div>
</div>
<a class="anchor" id="ad3ef2eab3ae903553c3400d5919ad201"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">elgg_query_runner </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$callback</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$single</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles returning data from a query, running it through a callback function, and caching the results. This is for R queries (from CRUD).</p>
<p>private</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td>The query to execute </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$callback</td><td>An optional callback function to run on each row </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$single</td><td>Return only a single result?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An array of database result objects or callback function results. If the query returned nothing, an empty array. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.8.0  private </dd></dl>

</div>
</div>
<a class="anchor" id="a1a9bae1ad64629d19fbf479ee97fd6a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">establish_db_link </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dblinkname</em> = <code>&quot;readwrite&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Establish a connection to the database servser</p>
<p>Connect to the database server and use the <a class="el" href="namespace_elgg.html">Elgg</a> database for a particular database link</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dblinkname</td><td>The type of database connection. Used to identify the resource. eg "read", "write", or "readwrite".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="a38d952fd50f788bfda99de897b768dd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">execute_delayed_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dblink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$handler</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queue a query for execution upon shutdown.</p>
<p>You can specify a handler function if you care about the result. This function will accept the raw result from <a class="el" href="">mysql_query()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td>The query to execute </td></tr>
    <tr><td class="paramtype">resource</td><td class="paramname">$dblink</td><td>The database link to use or the link type (read | write) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$handler</td><td>A callback function to pass the results array to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true  private </dd></dl>

</div>
</div>
<a class="anchor" id="ac5dac2a872cbd219f2770bf248754711"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">execute_delayed_read_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$handler</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read wrapper for <a class="el" href="engine_2lib_2database_8php.html#a38d952fd50f788bfda99de897b768dd9">execute_delayed_query()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td>The query to execute </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$handler</td><td>The handler if you care about the result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true  <a class="el" href="engine_2lib_2database_8php.html#a38d952fd50f788bfda99de897b768dd9">execute_delayed_query()</a>  <a class="el" href="engine_2lib_2database_8php.html#afbca4fd32b25f6b2e13518f978ef2dfc">get_db_link()</a>  private </dd></dl>

</div>
</div>
<a class="anchor" id="ad03f827016fde8428fb40f3ee87aa887"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">execute_delayed_write_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$handler</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write wrapper for <a class="el" href="engine_2lib_2database_8php.html#a38d952fd50f788bfda99de897b768dd9">execute_delayed_query()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td>The query to execute </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$handler</td><td>The handler if you care about the result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true  <a class="el" href="engine_2lib_2database_8php.html#a38d952fd50f788bfda99de897b768dd9">execute_delayed_query()</a>  <a class="el" href="engine_2lib_2database_8php.html#afbca4fd32b25f6b2e13518f978ef2dfc">get_db_link()</a>  private </dd></dl>

</div>
</div>
<a class="anchor" id="a6d20b890866a99258c12b919bbc6da0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">execute_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dblink</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute a query.</p>
<p>$query is executed via <a class="el" href="">mysql_query()</a>. If there is an SQL error, a <a class="el" href="class_database_exception.html">DatabaseException</a> is thrown. </p>

</div>
</div>
<a class="anchor" id="a77d6cfa526de0b2bec4c2cd1d4ccf56c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">explain_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute an EXPLAIN for $query.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">str</td><td class="paramname">$query</td><td>The query to explain </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$link</td><td>The database link resource to user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed An object of the query's result, or FALSE  private </dd></dl>

</div>
</div>
<a class="anchor" id="ad9cd598233ae5da2b9da6f4188155453"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$callback</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve rows from the database.</p>
<p>Queries are executed with <a class="el" href="engine_2lib_2database_8php.html#a6d20b890866a99258c12b919bbc6da0a">execute_query()</a> and results are retrieved with <a class="el" href="">mysql_fetch_object()</a>. If a callback function $callback is defined, each row will be passed as the single argument to $callback. If no callback function is defined, the entire result set is returned as an array.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$query</td><td>The query being passed. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$callback</td><td>Optionally, the name of a function to call back to on each row</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An array of database result objects or callback function results. If the query returned nothing, an empty array.  private </dd></dl>

</div>
</div>
<a class="anchor" id="abf956a09a1797acea02c648001f14455"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_data_row </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$callback</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve a single row from the database.</p>
<p>Similar to <a class="el" href="engine_2lib_2database_8php.html#ad9cd598233ae5da2b9da6f4188155453">get_data()</a> but returns only the first row matched. If a callback function $callback is specified, the row will be passed as the only argument to $callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$query</td><td>The query to execute. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$callback</td><td>A callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed A single database result object or the result of the callback function.  private </dd></dl>

</div>
</div>
<a class="anchor" id="a122d0820f3281ce69c615bb9e6d620ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_db_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dblink</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the last database error for a particular database link</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">resource</td><td class="paramname">$dblink</td><td>The DB link</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Database error message  private </dd></dl>

</div>
</div>
<a class="anchor" id="afbca4fd32b25f6b2e13518f978ef2dfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_db_link </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dblinktype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns (if required, also creates) a database link resource.</p>
<p>Database link resources are stored in the <a class="el" href="engine_2lib_2database_8php.html#a86918ee846c9b6a7953cbb3dfb595faf">$dblink</a> global. These resources are created by <a class="el" href="engine_2lib_2database_8php.html#a93f2865981b66d9bacf04d1791cccf93">setup_db_connections()</a>, which is called if no links exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dblinktype</td><td>The type of link we want: "read", "write" or "readwrite".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>object Database link  private </dd></dl>

</div>
</div>
<a class="anchor" id="a04e36d2488d87e488aaa95fe56533ab6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">get_db_tables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return tables matching the database prefix <a class="el" href="views_2default_2js_2languages_8php.html#ac32a9d18d73c87d99cdc0547a6c43904">-&gt;dbprefix</a>% in the currently selected database.</p>
<dl class="section return"><dt>Returns</dt><dd>array|false List of tables or false on failure array $tables Tables found matching the database prefix  private </dd></dl>

</div>
</div>
<a class="anchor" id="a3772ac33a45fcf2f326cfae152f98613"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">init_db </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers shutdown functions for database profiling and delayed queries.</p>
<p>private </p>

</div>
</div>
<a class="anchor" id="a4a75856d5db723fe21ec27f4820d6e5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">insert_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert a row into the database.</p>
<dl class="section note"><dt>Note</dt><dd>Altering the DB invalidates all queries in <a class="el" href="2011052801_8php.html#acad8903af2f3041e2cfdf7a2f5051516">$DB_QUERY_CACHE</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$query</td><td>The query to execute.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int|false The database id of the inserted row if a AUTO_INCREMENT field is defined, 0 if not, and false on failure.  private </dd></dl>

</div>
</div>
<a class="anchor" id="addc0d3fca3bf917b5a87b47ab93b5791"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">optimize_table </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optimise a table.</p>
<p>Executes an OPTIMIZE TABLE query on $table. Useful after large DB changes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$table</td><td>The name of the table to optimise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<a class="anchor" id="af934a51dfa448376c465be45315e4d88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">run_sql_script </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$scriptlocation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runs a full database script from disk.</p>
<p>The file specified should be a standard SQL file as created by mysqldump or similar. Statements must be terminated with ; and a newline character (<br/>
 or <br/>
) with only one statement per line.</p>
<p>The special string 'prefix_' is replaced with the database prefix as defined in <a class="el" href="views_2default_2js_2languages_8php.html#ac32a9d18d73c87d99cdc0547a6c43904">-&gt;dbprefix</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>Errors do not halt execution of the script. If a line generates an error, the error message is saved and the next line is executed. After the file is run, any errors are displayed as a <a class="el" href="class_database_exception.html">DatabaseException</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$scriptlocation</td><td>The full path to the script</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_database_exception.html">DatabaseException</a></td><td>private </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b722fd60e4612b20c62c5403cb1dfe6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sanitise_int </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$signed</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sanitises an integer for database use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int</td><td>Value to be sanitized </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$signed</td><td>Whether negative values should be allowed (true) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a class="anchor" id="a0d86f7dc87033ca8db5e4ad4765150fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sanitise_string </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sanitise a string for database use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td>The string to sanitise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Sanitised string </dd></dl>

</div>
</div>
<a class="anchor" id="a55d1243c21e091d538d9ff57f3543618"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sanitise_string_special </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$extra_escapeable</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sanitise a string for database use, but with the option of escaping extra characters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td>The string to sanitise </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$extra_escapeable</td><td>Extra characters to escape with '\'</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The escaped string </dd></dl>

</div>
</div>
<a class="anchor" id="a26d4fc34fc71f9a43976e7d2f11d7ebe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sanitize_int </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$int</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$signed</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sanitizes an integer for database use. Wrapper function for alternate English spelling (</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="engine_2lib_2database_8php.html#a3b722fd60e4612b20c62c5403cb1dfe6">sanitise_int</a>)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$int</td><td>Value to be sanitized </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$signed</td><td>Whether negative values should be allowed (true) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a class="anchor" id="a364951fa65305cba698867c3b2f22533"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sanitize_string </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wrapper function for alternate English spelling</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td>The string to sanitise</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Sanitised string </dd></dl>

</div>
</div>
<a class="anchor" id="a93f2865981b66d9bacf04d1791cccf93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setup_db_connections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Establish database connections</p>
<p>If the configuration has been set up for multiple read/write databases, set those links up separately; otherwise just create the one database link.</p>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="a1251888816844ab00bb0da66bbc9d48f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update a row in the database.</p>
<dl class="section note"><dt>Note</dt><dd>Altering the DB invalidates all queries in <a class="el" href="2011052801_8php.html#acad8903af2f3041e2cfdf7a2f5051516">$DB_QUERY_CACHE</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$query</td><td>The query to run.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool  private </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ad5af99bb3f5cbfb51366357b188d84c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DB_DELAYED_QUERIES = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queries to be executed upon shutdown.</p>
<p>These queries are saved to an array and executed using a function registered by register_shutdown_function().</p>
<p>Queries are saved as an array in the format: <code> $DB_DELAYED_QUERIES[] = array( 'q' =&gt; str $query, 'l' =&gt; resource $dblink, 'h' =&gt; str $handler // a callback function ); </code></p>
<p>array $DB_DELAYED_QUERIES </p>

</div>
</div>
<a class="anchor" id="a127f68ebab2e37eb13bd94f9546ddfd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DB_QUERY_CACHE = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Query cache for all queries.</p>
<p>Each query and its results are stored in this array as: <code> $DB_QUERY_CACHE[$query] =&gt; array(result1, result2, ... resultN) </code></p>
<p>array $DB_QUERY_CACHE </p>

</div>
</div>
<a class="anchor" id="aedb9d7f0b810a70a8096007b989488fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$dbcalls = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Database call count</p>
<p>Each call to the database increments this counter.</p>
<p>integer $dbcalls </p>

</div>
</div>
<a class="anchor" id="a86918ee846c9b6a7953cbb3dfb595faf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$dblink = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Database connection resources.</p>
<p>Each database link created with establish_db_link($name) is stored in $dblink as $dblink[$name] =&gt; resource. Use get_db_link($name) to retrieve it.</p>
<p>array $dblink </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 19 2012 12:53:44 for Elgg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
