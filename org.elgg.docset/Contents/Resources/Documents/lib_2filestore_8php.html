<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Elgg: Elgg/engine/lib/filestore.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="elgg_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Elgg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e256eaafeeae80b9b34a28b1ef87f183.html">Elgg</a></li><li class="navelem"><a class="el" href="dir_ac9b7bd8ad09c3c5fda80b3cc2a21709.html">engine</a></li><li class="navelem"><a class="el" href="dir_8046085063ca2435fde818b58ec8052b.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">filestore.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespace_elgg_1_1_core"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_elgg_1_1_core.html">Elgg\Core</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acfe0873432a55e38d6e40fee3f0efd2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#acfe0873432a55e38d6e40fee3f0efd2d">get_dir_size</a> ($dir, $totalsize=0)</td></tr>
<tr class="separator:acfe0873432a55e38d6e40fee3f0efd2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af281af99cbd2de352b8bcc0fd78b580b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#af281af99cbd2de352b8bcc0fd78b580b">get_uploaded_file</a> ($input_name)</td></tr>
<tr class="separator:af281af99cbd2de352b8bcc0fd78b580b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c10457005f7168f9297dc2850eb5695"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#a2c10457005f7168f9297dc2850eb5695">get_resized_image_from_uploaded_file</a> ($input_name, $maxwidth, $maxheight, $square=false, $upscale=false)</td></tr>
<tr class="separator:a2c10457005f7168f9297dc2850eb5695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4ad5783d17990adbb5fd5a49ab1ff1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#a2e4ad5783d17990adbb5fd5a49ab1ff1">get_resized_image_from_existing_file</a> ($input_name, $maxwidth, $maxheight, $square=FALSE, $<a class="el" href="actions_2avatar_2upload_8php.html#aef7d071e688ce0ea58db6f73957ef3e5">x1</a>=0, $<a class="el" href="actions_2avatar_2upload_8php.html#ace73c997d5fc200cb8cc47a96cdff0ea">y1</a>=0, $<a class="el" href="actions_2avatar_2upload_8php.html#aa6fcbe130f89707008f863bc812a0726">x2</a>=0, $<a class="el" href="actions_2avatar_2upload_8php.html#aa02073c4866ae858b32cb9e3b538cb9f">y2</a>=0, $upscale=FALSE)</td></tr>
<tr class="separator:a2e4ad5783d17990adbb5fd5a49ab1ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668efe89c939a3203b7604a3b127e3dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#a668efe89c939a3203b7604a3b127e3dd">get_image_resize_parameters</a> ($<a class="el" href="views_2default_2css_2elements_2typography_8php.html#ab1b1d44a8c4dbcaeff449be6b5e19935">width</a>, $<a class="el" href="views_2default_2css_2elements_2typography_8php.html#ad6d040b79093a1652d3e3a0f02172d83">height</a>, $options)</td></tr>
<tr class="separator:a668efe89c939a3203b7604a3b127e3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4da411e92373b5bab0c4f25b1c67783"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#af4da411e92373b5bab0c4f25b1c67783">file_delete</a> ($guid)</td></tr>
<tr class="separator:af4da411e92373b5bab0c4f25b1c67783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44775f151a179d961dd4bdf1790f0480"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#a44775f151a179d961dd4bdf1790f0480">file_get_general_file_type</a> ($mimetype)</td></tr>
<tr class="separator:a44775f151a179d961dd4bdf1790f0480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaab3f8432473b5906a3d9b90af2d800"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#aaaab3f8432473b5906a3d9b90af2d800">delete_directory</a> ($directory)</td></tr>
<tr class="separator:aaaab3f8432473b5906a3d9b90af2d800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6165df04a8de29f71c63b163a1c804"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#a3a6165df04a8de29f71c63b163a1c804">clear_user_files</a> ($<a class="el" href="views_2default_2css_2admin_8php.html#a2496a85b9678a103196f2b30af9cfd3f">user</a>)</td></tr>
<tr class="separator:a3a6165df04a8de29f71c63b163a1c804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5040649e97257fd34ca695de2a9840ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#a5040649e97257fd34ca695de2a9840ec">get_default_filestore</a> ()</td></tr>
<tr class="separator:a5040649e97257fd34ca695de2a9840ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23f989bffebd9d2236ad44a93af7817"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#af23f989bffebd9d2236ad44a93af7817">set_default_filestore</a> (<a class="el" href="class_elgg_filestore.html">ElggFilestore</a> $filestore)</td></tr>
<tr class="separator:af23f989bffebd9d2236ad44a93af7817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc7c811ef680fb18898eab74f91797d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#abdc7c811ef680fb18898eab74f91797d">filestore_run_once</a> ()</td></tr>
<tr class="separator:abdc7c811ef680fb18898eab74f91797d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a899392f35d62756981f5ee904db44b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#a6a899392f35d62756981f5ee904db44b">filestore_init</a> ()</td></tr>
<tr class="separator:a6a899392f35d62756981f5ee904db44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26fca0a3cbe287d55c948f21c42d69ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#a26fca0a3cbe287d55c948f21c42d69ca">filestore_test</a> ($hook, $<a class="el" href="views_2default_2css_2admin_8php.html#a6e4f3473ef5a1db445d7f82bab04e366">type</a>, $value, $params)</td></tr>
<tr class="separator:a26fca0a3cbe287d55c948f21c42d69ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae076235b696eaf9bde6c848b951f7ad9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2filestore_8php.html#ae076235b696eaf9bde6c848b951f7ad9">$DEFAULT_FILE_STORE</a> = NULL</td></tr>
<tr class="memdesc:ae076235b696eaf9bde6c848b951f7ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable holding the default datastore.  <a href="#ae076235b696eaf9bde6c848b951f7ad9"></a><br/></td></tr>
<tr class="separator:ae076235b696eaf9bde6c848b951f7ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3a6165df04a8de29f71c63b163a1c804"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clear_user_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes all user files</p>
<dl class="section warning"><dt>Warning</dt><dd>This only deletes the physical files and not their entities. This will result in FileExceptions being thrown. Don't use this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_elgg_user.html">ElggUser</a></td><td class="paramname">$user</td><td>And <a class="el" href="class_elgg_user.html">ElggUser</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="aaaab3f8432473b5906a3d9b90af2d800"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete_directory </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a directory and all its contents</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">str</td><td class="paramname">$directory</td><td>Directory to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="af4da411e92373b5bab0c4f25b1c67783"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$guid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete an <a class="el" href="class_elgg_file.html">ElggFile</a> file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$guid</td><td><a class="el" href="class_elgg_file.html">ElggFile</a> GUID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

</div>
</div>
<a class="anchor" id="a44775f151a179d961dd4bdf1790f0480"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_get_general_file_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$mimetype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an overall file type from the mimetype</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$mimetype</td><td>The MIME type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The overall type </dd></dl>

</div>
</div>
<a class="anchor" id="a6a899392f35d62756981f5ee904db44b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">filestore_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise the file modules. Listens to system init and configures the default filestore</p>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="abdc7c811ef680fb18898eab74f91797d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">filestore_run_once </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register entity type objects, subtype file as <a class="el" href="class_elgg_file.html">ElggFile</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>void  private </dd></dl>

</div>
</div>
<a class="anchor" id="a26fca0a3cbe287d55c948f21c42d69ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">filestore_test </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unit tests for files</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">sting</td><td class="paramname">$hook</td><td>unit_test </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td>system </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>Array of tests </td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$params</td><td>Params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array  private </dd></dl>

</div>
</div>
<a class="anchor" id="a5040649e97257fd34ca695de2a9840ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_default_filestore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the default filestore.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_elgg_filestore.html">ElggFilestore</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acfe0873432a55e38d6e40fee3f0efd2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_dir_size </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$totalsize</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the size of the specified directory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dir</td><td>The full path of the directory </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$totalsize</td><td>Add to current dir size</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int The size of the directory. </dd></dl>

</div>
</div>
<a class="anchor" id="a668efe89c939a3203b7604a3b127e3dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_image_resize_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the parameters for resizing an image</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$width</td><td>Width of the original image </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$height</td><td>Height of the original image </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>See $defaults for the options</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array or FALSE </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.7.2 </dd></dl>

</div>
</div>
<a class="anchor" id="a2e4ad5783d17990adbb5fd5a49ab1ff1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_resized_image_from_existing_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$input_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxwidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxheight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$square</em> = <code>FALSE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$x1</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$y1</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$x2</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$y2</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$upscale</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the jpeg contents of the resized version of an already uploaded image (Returns false if the file was not an image)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$input_name</td><td>The name of the file on the disk </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$maxwidth</td><td>The desired width of the resized image </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$maxheight</td><td>The desired height of the resized image </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$square</td><td>If set to true, takes the smallest of maxwidth and maxheight and use it to set the dimensions on the new image. If no crop parameters are set, the largest square that fits in the image centered will be used for the resize. If square, the crop must be a square region. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$x1</td><td>x coordinate for top, left corner </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$y1</td><td>y coordinate for top, left corner </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$x2</td><td>x coordinate for bottom, right corner </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$y2</td><td>y coordinate for bottom, right corner </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$upscale</td><td>Resize images smaller than $maxwidth x $maxheight?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false|mixed The contents of the resized image, or false on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a2c10457005f7168f9297dc2850eb5695"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_resized_image_from_uploaded_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$input_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxwidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$maxheight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$square</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$upscale</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the jpeg contents of the resized version of an uploaded image (Returns false if the uploaded file was not an image)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$input_name</td><td>The name of the file input field on the submission form </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$maxwidth</td><td>The maximum width of the resized image </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$maxheight</td><td>The maximum height of the resized image </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$square</td><td>If set to true, will take the smallest of maxwidth and maxheight and use it to set the dimensions on all size; the image will be cropped. </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$upscale</td><td>Resize images smaller than $maxwidth x $maxheight?</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false|mixed The contents of the resized image, or false on failure </dd></dl>

</div>
</div>
<a class="anchor" id="af281af99cbd2de352b8bcc0fd78b580b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_uploaded_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$input_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the contents of an uploaded file. (Returns false if there was an issue.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$input_name</td><td>The name of the file input field on the submission form</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed|false The contents of the file, or false on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="af23f989bffebd9d2236ad44a93af7817"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set_default_filestore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_elgg_filestore.html">ElggFilestore</a>&#160;</td>
          <td class="paramname"><em>$filestore</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the default filestore for the system.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_elgg_filestore.html">ElggFilestore</a></td><td class="paramname">$filestore</td><td>An <a class="el" href="class_elgg_filestore.html">ElggFilestore</a> object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ae076235b696eaf9bde6c848b951f7ad9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$DEFAULT_FILE_STORE = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable holding the default datastore. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 19 2012 12:53:44 for Elgg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
